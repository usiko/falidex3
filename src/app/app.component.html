<ion-app>

    <ion-menu side="start" menuId="navigation" class="navigation-menu" contentId="main-content" type="overlay">
        <ion-header>
            <ion-toolbar>
                <ng-container *ngIf="(relationsData$|async) as relations">
                    <ng-container>
                        <ion-item lines="none" *ngIf="relations && relations.length>1 && (currentRelationsData$|async)">
                            <fa-icon class="dark-color" [icon]="['fas', 'book']" slot="start"></fa-icon>
                            <ion-select placeholder="changer" (ionChange)="setCurrentRelation($event)" [value]="(currentRelationsData$|async).id">
                                <ion-select-option *ngFor="let relation of (relationsData$|async)" [value]="relation.id"> Code {{relation.name}}</ion-select-option>
                            </ion-select>
                        </ion-item>
                        <ion-item lines="none" *ngIf="!relations || relations.length==0">
                            <fa-icon class="dark-color" [icon]="['fas', 'book']" slot="start"></fa-icon>
                            <ion-label *ngIf="!relations || relations.length==0">
                                Aucun code disponible
                            </ion-label>
                        </ion-item>
                    </ng-container>
                </ng-container>



            </ion-toolbar>
        </ion-header>
        <ion-content>
            <app-navigation [pages]="appPages"></app-navigation>
        </ion-content>
    </ion-menu>
    <ion-menu side="end" menuId="filters" contentId="main-content" [swipeGesture]="false" type="overlay">
        <ion-header>
            <ion-toolbar color="secondary">
                <ion-title>Filtres</ion-title>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <app-filtres></app-filtres>
        </ion-content>
    </ion-menu>
    <ion-router-outlet id="main-content"></ion-router-outlet>


</ion-app>